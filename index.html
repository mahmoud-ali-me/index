<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Ø±Ø³Ø§Ù„Ø© Ù…Ù‚ÙÙˆÙ„Ø©</title>
  <style>
    :root {
      --bg: #0f172a;
      --card: #0f172a;
      --panel: #111827;
      --muted: #9ca3af;
      --accent: #38bdf8;
      --text: #e6eef8;
    }
    html,body{height:100%}
    body{
      margin:0;
      font-family: "Cairo", system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
      background: linear-gradient(180deg,#071028 0%, var(--bg) 100%);
      color:var(--text);
      display:flex;
      align-items:center;
      justify-content:center;
      padding:24px;
      -webkit-font-smoothing:antialiased;
    }

    .container{
      width:100%;
      max-width:760px;
      text-align:center;
    }

    .card{
      background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
      border-radius:14px;
      padding:28px;
      box-shadow: 0 10px 30px rgba(2,6,23,0.6);
      border: 1px solid rgba(255,255,255,0.03);
    }

    h1{ margin:0 0 12px; font-size:1.6rem; display:flex; align-items:center; gap:10px; justify-content:center; }
    .timer{ color:var(--accent); font-size:1.1rem; margin-bottom:18px; }
    .message{ display:none; text-align:right; direction:rtl; line-height:1.9; font-size:1.05rem; color:#e9eef6; }
    .meta{ color:var(--muted); font-size:0.9rem; margin-bottom:14px; }
    .controls{ margin-top:18px; display:flex; gap:10px; justify-content:center; flex-wrap:wrap; }
    .btn{
      background:transparent;
      border:1px solid rgba(255,255,255,0.06);
      padding:8px 14px;
      border-radius:10px;
      color:var(--text);
      cursor:pointer;
      font-size:0.95rem;
    }
    .btn.ghost{ background:transparent; }
    .btn.primary{
      background:var(--accent);
      color:#072033;
      border:none;
      box-shadow: 0 6px 18px rgba(56,189,248,0.12);
    }

    footer{ margin-top:14px; color:var(--muted); font-size:0.85rem; }

    @media (max-width:420px){
      .card{ padding:18px; }
      h1{ font-size:1.2rem }
    }
  </style>
</head>
<body>
  <div class="container">
    <div class="card" role="main" aria-live="polite">
      <h1>ğŸ“© Ø§Ù„Ø±Ø³Ø§Ù„Ø© Ù…Ù‚ÙÙˆÙ„Ø© Ø­Ø§Ù„ÙŠØ§Ù‹</h1>
      <div class="meta">Ù‡Ø°Ù‡ Ø§Ù„ØµÙØ­Ø© ØªÙØªØ­ Ø§Ù„Ù…Ø­ØªÙˆÙ‰ Ø¨Ø¹Ø¯ Ù…Ø±ÙˆØ± Ø§Ù„ÙˆÙ‚Øª Ø§Ù„Ù…Ø­Ø¯Ø¯ Ù…Ù† Ø£ÙˆÙ„ Ø²ÙŠØ§Ø±Ø©.</div>
      <div class="timer" id="timer">â³ Ø¬Ø§Ø±Ù Ø§Ù„Ø­Ø³Ø§Ø¨...</div>

      <div class="message" id="message">
        <h2 style="margin-top:0; text-align:right;">ğŸ’¬ Ù†Øµ Ø§Ù„Ø±Ø³Ø§Ù„Ø©</h2>
        <p>
          Ø­ÙŠØ§ØªÙŠ Ù…ÙƒÙ†ØªØ´ Ù‡ØªÙ†ÙØ¹ ÙˆØ§Ù†ØªÙŠ Ù…Ø´ ÙÙŠÙ‡Ø§ ÙØ§ Ø§Ø®ØªØ±Øª Ø§Ù†ÙŠ Ø§Ù†Ù‡ÙŠÙ‡Ø§ Ø¨Ø¹Ø¯ Ù…Ø§ Ø´Ù„ØªÙŠÙ†ÙŠ Ù…Ù† Ù‚Ù„Ø¨Ùƒ Ùˆ ÙˆØµÙŠØªÙŠ Ø§Ù†Ù‡Ù… ÙŠØºØ³Ù„ÙˆÙ†ÙŠ Ø¨Ø¯Ø¨Ù„ØªÙŠ Ùˆ ÙŠØ¯ÙÙˆÙ†ÙŠÙ†ÙŠ Ø¨ÙŠÙ‡Ø§ Ø¹Ù„Ø´Ø§Ù† ØªÙƒÙˆÙ† Ù…Ø¹Ø§ÙŠÙ‡ Ùˆ Ù…Ø·Ù…Ù†Ø§Ù†ÙŠ ÙˆØ§Ù†Ø§ Ù„ÙˆØ­Ø¯ÙŠ Ùˆ Ù…Ø´ Ù…Ø³Ø§Ù…Ø­ Ø§ÙŠ Ø­Ø¯ ÙŠØ´Ù„Ù‡Ø§ Ù…Ù† Ø§ÙŠØ¯ÙŠ
        </p>
      </div>

      <div class="controls" aria-hidden="false">
        <button class="btn primary" id="forceOpenBtn">ÙØªØ­ Ø§Ù„Ø¢Ù† (Ù„Ù„Ø§Ø®ØªØ¨Ø§Ø±)</button>
        <button class="btn" id="resetBtn">Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† Ø§Ù„Ø¹Ø¯Ù‘</button>
      </div>

      <footer>
        * Ù…Ù„Ø§Ø­Ø¸Ø©: Ø§Ù„ÙˆÙ‚Øª ÙŠÙØ­Ø³Ø¨ Ù…Ù† Ø£ÙˆÙ„ Ù…Ø±Ø© ÙŠØ²ÙˆØ± ÙÙŠÙ‡Ø§ Ø§Ù„Ù…Ø³ØªÙ„Ù… Ù‡Ø°Ù‡ Ø§Ù„ØµÙØ­Ø©. Ù„Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„Ø¹Ø¯Ù‘ Ù„Ù…Ø³Ø­ Ø§Ù„Ø­Ø§Ù„Ø© Ø§Ø­ØªÙØ¸ Ø¨Ø²Ø± "Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† Ø§Ù„Ø¹Ø¯Ù‘".
      </footer>
    </div>
  </div>

  <script>
    // ------- Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ù‚Ø§Ø¨Ù„Ø© Ù„Ù„ØªØ¹Ø¯ÙŠÙ„ -------
    // Ù…Ø¯Ø© Ø§Ù„Ù‚ÙÙ„ Ø¨Ø§Ù„Ù…Ù„Ù‘ÙŠ Ø«Ø§Ù†ÙŠØ© â€” Ù‡Ù†Ø§ 15 Ø³Ø§Ø¹Ø©
    const UNLOCK_AFTER_MS = 15 * 60 * 60 * 1000;

    // Ù…ÙØªØ§Ø­ Ø§Ù„ØªØ®Ø²ÙŠÙ† Ø§Ù„Ù…Ø­Ù„ÙŠ
    const STORAGE_KEY = "firstOpenTime_locked_message_v1";

    // Ø¹Ù†Ø§ØµØ± DOM
    const timerEl = document.getElementById("timer");
    const messageEl = document.getElementById("message");
    const forceOpenBtn = document.getElementById("forceOpenBtn");
    const resetBtn = document.getElementById("resetBtn");

    // Ù‚Ø±Ø§Ø¡Ø©/Ø¥Ù†Ø´Ø§Ø¡ Ø²Ù…Ù† Ø§Ù„ÙØªØ­ Ø§Ù„Ø£ÙˆÙ„
    function getOrCreateFirstOpenTime() {
      let t = localStorage.getItem(STORAGE_KEY);
      if (!t) {
        t = Date.now().toString();
        localStorage.setItem(STORAGE_KEY, t);
      }
      return parseInt(t, 10);
    }

    function clearFirstOpenTime() {
      localStorage.removeItem(STORAGE_KEY);
    }

    // Ø¹Ù…Ù„ÙŠØ© Ø¹Ø±Ø¶ Ø§Ù„Ø¹Ø¯Ø§Ø¯
    function updateTimer() {
      const firstOpen = getOrCreateFirstOpenTime();
      const unlockTime = firstOpen + UNLOCK_AFTER_MS;
      const now = Date.now();
      const diff = unlockTime - now;

      if (diff <= 0) {
        // Ù…ÙØªÙˆØ­
        timerEl.style.display = "none";
        messageEl.style.display = "block";
      } else {
        // Ø­Ø³Ø§Ø¨ Ø³Ø§Ø¹Ø§Øª/Ø¯Ù‚Ø§Ø¦Ù‚/Ø«ÙˆØ§Ù†ÙŠ
        const totalSeconds = Math.floor(diff / 1000);
        const hours = Math.floor(totalSeconds / 3600);
        const minutes = Math.floor((totalSeconds % 3600) / 60);
        const seconds = totalSeconds % 60;

        // ØµÙŠØ§ØºØ© Ù†ØµÙŠØ© Ù…Ù†Ø§Ø³Ø¨Ø© (Ø¹Ø±Ø¨ÙŠ)
        let parts = [];
        if (hours > 0) parts.push(hours + " Ø³Ø§Ø¹Ø©");
        if (minutes > 0) parts.push(minutes + " Ø¯Ù‚ÙŠÙ‚Ø©");
        parts.push(seconds + " Ø«Ø§Ù†ÙŠØ©");

        timerEl.textContent = "â³ Ø³ÙŠØªÙ… ÙØªØ­ Ø§Ù„Ø±Ø³Ø§Ù„Ø© Ø¨Ø¹Ø¯ " + parts.join("ØŒ ");
      }
    }

    // ØªÙ‡ÙŠØ¦Ø© Ø§Ù„ØªØ­Ø¯ÙŠØ« ÙƒÙ„ Ø«Ø§Ù†ÙŠØ©
    let intervalId = null;
    function start() {
      // Ù„Ùˆ Ù…Ø§ ÙÙŠØ´ ÙˆÙ‚Øª Ù…Ø®Ø²Ù†ØŒ Ø³ÙŠØªÙ… Ø¥Ù†Ø´Ø§Ø¤Ù‡ Ø¹Ù†Ø¯ Ø§Ù„Ù‚Ø±Ø§Ø¡Ø©
      updateTimer();
      intervalId = setInterval(updateTimer, 1000);
    }

    // Ø£Ø²Ø±Ø§Ø± Ø§Ù„ØªØ­ÙƒÙ… Ù„Ù„Ø§Ø®ØªØ¨Ø§Ø±/Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ†
    forceOpenBtn.addEventListener("click", function () {
      // Ù„Ù…Ø³Ø­ Ø§Ù„Ù‚ÙŠÙˆØ¯ ÙˆÙØªØ­ Ø§Ù„Ø±Ø³Ø§Ù„Ø© Ù…Ø¨Ø§Ø´Ø±Ø© (Ù…ÙÙŠØ¯ Ù„Ø§Ø®ØªØ¨Ø§Ø±)
      clearInterval(intervalId);
      localStorage.setItem(STORAGE_KEY, (Date.now() - UNLOCK_AFTER_MS - 1000).toString());
      updateTimer();
      intervalId = setInterval(updateTimer, 1000);
    });

    resetBtn.addEventListener("click", function () {
      // Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„ØªÙ‡ÙŠØ¦Ø©: ÙŠØ²ÙŠÙ„ Ø§Ù„ÙˆÙ‚Øª Ø§Ù„Ù…Ø®Ø²Ù† ÙˆØ³ÙŠØ¨Ø¯Ø£ Ø§Ù„Ø¹Ø¯ Ù…Ù† Ø§Ù„Ø²ÙŠØ§Ø±Ø© Ø§Ù„Ø­Ø§Ù„ÙŠØ©
      clearFirstOpenTime();
      // Ø¥Ø¹Ø§Ø¯Ø© Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„ÙˆÙ‚Øª Ø§Ù„Ø¢Ù†
      getOrCreateFirstOpenTime();
      updateTimer();
    });

    // Ø¨Ø¯Ø¡ Ø§Ù„ØªØ´ØºÙŠÙ„
    start();
  </script>
</body>
</html>
